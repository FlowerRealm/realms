{{define "admin_oauth_app_secret"}}
<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <h2 class="h4 fw-bold mb-1">Client Secret 已生成</h2>
    <p class="text-muted small mb-0">请立即复制保存，页面关闭后将无法再次查看明文 secret。</p>
  </div>
  <a href="/admin/oauth-apps/{{.OAuthApp.ID}}" class="btn btn-sm btn-outline-secondary">
    <i class="ri-arrow-left-line me-1"></i> 返回应用
  </a>
</div>

<div class="card border-0 shadow-sm">
  <div class="mb-3">
    <div class="text-muted small mb-1">Client ID</div>
    <code class="user-select-all">{{.OAuthApp.ClientID}}</code>
  </div>
  <div class="mb-0">
    <div class="text-muted small mb-1">Client Secret（仅显示一次）</div>
    <code class="user-select-all">{{.OAuthAppSecret}}</code>
  </div>
</div>

<div class="card border-0 shadow-sm">
  <h5 class="h6 fw-bold mb-2">Token 交换示例</h5>
  <div class="text-muted small mb-2">以表单方式调用 `POST /oauth/token`：</div>
  <pre class="mb-0"><code>curl -X POST '{{.SiteBaseURLEffective}}/oauth/token' \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -d 'grant_type=authorization_code' \
  -d 'client_id={{.OAuthApp.ClientID}}' \
  -d 'client_secret={{.OAuthAppSecret}}' \
  -d 'redirect_uri=...registered...' \
  -d 'code=...'</code></pre>
</div>
{{end}}

