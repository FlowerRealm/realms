{{define "page_models"}}
<div class="card overflow-hidden">
  <div class="card-header d-flex justify-content-between align-items-center">
    <div>
      <h5 class="mb-0"><span class="me-2 material-symbols-rounded">smart_toy</span>可用模型列表</h5>
      <small class="text-muted">由管理员维护（名单外模型将被拒绝）</small>
    </div>
    <a href="/dashboard" class="btn btn-outline-secondary btn-sm"><span class="material-symbols-rounded">arrow_back</span> 返回</a>
  </div>
  
  <div class="card-body p-0">
    {{if .Error}}
    <div class="alert alert-danger m-3" role="alert">
      <span class="me-2 material-symbols-rounded">report</span> {{.Error}}
    </div>
    {{end}}

    {{if .Models}}
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th class="ps-4">模型 ID</th>
            <th>归属方</th>
            <th>计费 <span class="text-muted small">（每 1M Token）</span></th>
            <th class="text-end pe-4">状态</th>
          </tr>
        </thead>
        <tbody>
          {{range .Models}}
          <tr>
            {{$icon := modelIconURL .ID .OwnedBy}}
            <td class="ps-4">
              <div class="d-flex align-items-center gap-2">
                {{if $icon}}
                  <img class="rlm-model-icon" src="{{$icon}}" alt="{{.OwnedBy}}" title="{{.OwnedBy}}" loading="lazy" onerror="this.style.display='none';" />
                {{end}}
                <span class="font-monospace fw-medium text-primary">{{.ID}}</span>
              </div>
            </td>
            <td>
              {{if .OwnedBy}}
                <span class="badge bg-light text-dark border">{{.OwnedBy}}</span>
              {{else}}
                <span class="text-muted small">-</span>
              {{end}}
            </td>
            <td class="text-muted small">
              <div class="d-flex flex-column gap-1">
                <div><span class="text-muted">输入</span> <span class="me-1 material-symbols-rounded">attach_money</span>{{.InputUSDPer1M}}</div>
                <div><span class="text-muted">输出</span> <span class="me-1 material-symbols-rounded">attach_money</span>{{.OutputUSDPer1M}}</div>
                <div><span class="text-muted">缓存输入</span> <span class="me-1 material-symbols-rounded">attach_money</span>{{.CacheInputUSDPer1M}}</div>
                <div><span class="text-muted">缓存输出</span> <span class="me-1 material-symbols-rounded">attach_money</span>{{.CacheOutputUSDPer1M}}</div>
              </div>
            </td>
            <td class="text-end pe-4">
              <span class="badge bg-success-subtle text-success border border-success-subtle">可用</span>
            </td>
          </tr>
          {{end}}
        </tbody>
      </table>
    </div>
    {{else}}
      {{if not .Error}}
      <div class="text-center py-5 text-muted">
        <span class="fs-1 d-block mb-3 material-symbols-rounded">inbox</span>
        暂无可用模型，请联系管理员配置模型目录。
      </div>
      {{end}}
    {{end}}
  </div>
</div>
{{end}}
