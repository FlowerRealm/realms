{{define "page_announcements"}}
<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <h2 class="h4 fw-bold mb-0">公告</h2>
    <p class="text-muted small mb-0">
      {{if gt .UnreadAnnouncementsCount 0}}
        你有 <span class="badge bg-warning text-dark">{{.UnreadAnnouncementsCount}}</span> 条未读公告
      {{else}}
        暂无未读公告
      {{end}}
    </p>
  </div>
</div>

<div class="card  overflow-hidden">
  <div class="table-responsive">
    <table class="table table-hover align-middle mb-0">
      <thead class="bg-light">
        <tr>
          <th class="ps-4">标题</th>
          <th>时间</th>
          <th style="width: 120px;">状态</th>
        </tr>
      </thead>
      <tbody>
        {{if .Announcements}}
          {{range .Announcements}}
          <tr>
            <td class="ps-4">
              <a class="text-decoration-none fw-semibold" href="/announcements/{{.ID}}">{{.Title}}</a>
            </td>
            <td class="small text-muted">{{.CreatedAt}}</td>
            <td>
              {{if .Read}}
                <span class="badge rounded-pill bg-light text-secondary border px-2">已读</span>
              {{else}}
                <span class="badge rounded-pill bg-warning text-dark px-2">未读</span>
              {{end}}
            </td>
          </tr>
          {{end}}
        {{else}}
          <tr>
            <td colspan="3" class="text-muted small">暂无公告</td>
          </tr>
        {{end}}
      </tbody>
    </table>
  </div>
</div>
{{end}}

