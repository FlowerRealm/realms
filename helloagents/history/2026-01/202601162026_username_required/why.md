# Why: 用户账号名（username）改为必填

## 背景

当前 `users.username` 允许为空，导致：
- 注册/管理后台创建用户时可以不填账号名，后续只能用邮箱登录，不一致且容易踩坑；
- 部分功能/UI 文案仍标注“可选”，与“账号名用于登录”这一定位不匹配；
- 数据层允许 `NULL`，不利于后续以 username 作为稳定标识做审计/展示/引用。

## 目标

- `username` 作为 **必设项**：注册、账号设置、管理后台创建/编辑用户都必须提供合法账号名。
- 数据库层面强约束：`users.username` 设为 `NOT NULL`，并在迁移中回填存量 `NULL/空串`。

## 成功标准

- 新注册用户必须填写账号名，否则返回明确错误。
- 已有用户升级后，数据库迁移能自动回填缺失账号名并使约束生效。
- 登录仍支持“邮箱或账号名 + 密码”。
- `go test ./...` 通过（至少保证编译与单元测试可运行）。

